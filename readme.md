# üìä –ö–æ–º–±–∏–Ω–∞—Ç–æ—Ä

–°–µ—Ä–≤–∏—Å **–ö–û–ú–ë–ò–ù–û–¢–û–†** –∞–Ω–∞–ª–∏–∑–∏—Ä—É–µ—Ç –ø–æ—Ç–æ–∫–∏ –¥–∞–Ω–Ω—ã—Ö —Å–∏–≥–Ω–∞–ª–æ–≤ –∏–∑ Redis
–∏ —Ä–∞—Å—Å—á–∏—Ç—ã–≤–∞–µ—Ç –≤–æ–∑–º–æ–∂–Ω—ã–µ —Ç–æ—á–∫–∏ –≤—Ö–æ–¥–∞ –≤ —Å–¥–µ–ª–∫–∏.
–ü—Ä–∏ –≤—ã–ø–æ–ª–Ω–µ–Ω–∏–∏ —É—Å–ª–æ–≤–∏–π ‚Äî —Ñ–æ—Ä–º–∏—Ä—É–µ—Ç –∑–∞—è–≤–∫–∏ –≤ –∞–¥–º–∏–Ω-–ø–∞–Ω–µ–ª–∏.
–ò–º–µ–µ—Ç –≤—Å—Ç—Ä–æ–µ–Ω–Ω—É—é —Å–∏—Å—Ç–µ–º—É –∑–∞—â–∏—Ç—ã –æ—Ç –¥—É–±–ª–∏—Ä–æ–≤–∞–Ω–∏—è –∑–∞—è–≤–æ–∫ —Å –ø–æ–º–æ—â—å—é Redis-–±–ª–æ–∫–∏—Ä–æ–≤–æ–∫.

---
### –°—Ç—Ä—É–∫—Ç—É—Ä–∞ –ø—Ä–æ–µ–∫—Ç–∞
conf/redis.py –ò–Ω–∏—Ü–∏–∞–ª–∏–∑–∞—Ü–∏—è redis –∏ –∫–∞–Ω–∞–ª–æ–≤
conf/kline.py –ò–Ω–∏—Ü–∏–∞–ª–∏–∑–∞—Ü–∏—è —Å–≤–µ—á–µ–π
conf/settings.py –ì–ª–æ–±–∞–ª—å–Ω—ã–µ –Ω–∞—Å—Ç—Ä–æ–π–∫–∏ –ø—Ä–æ–µ–∫—Ç–∞
app/

main.py

---

## ‚öôÔ∏è –û—Å–Ω–æ–≤–Ω–æ–π —Ü–∏–∫–ª —Ä–∞–±–æ—Ç—ã

1. üîÑ –ü–æ–ª—É—á–µ–Ω–∏–µ —Å–∏–≥–Ω–∞–ª–æ–≤ —á–µ—Ä–µ–∑ Redis-–∫–∞–Ω–∞–ª—ã (Pub/Sub).
2. üß† –ê–Ω–∞–ª–∏–∑ –∏ —Ä–∞—Å—á–µ—Ç –≤–æ–∑–º–æ–∂–Ω—ã—Ö —Ç–æ—á–µ–∫ –≤—Ö–æ–¥–∞.
3. üì§ –ü—Ä–∏ –Ω–∞–ª–∏—á–∏–∏ —Å–∏–≥–Ω–∞–ª–∞:
   - –û—Ç–ø—Ä–∞–≤–∫–∞ –∑–∞—è–≤–∫–∏ –≤ –∞–¥–º–∏–Ω-–ø–∞–Ω–µ–ª—å.
   - –ü—Ä–∏ –æ—Ç–≤–µ—Ç–µ `200 OK` –∏–ª–∏ `409 Conflict` ‚Üí –∞–∫—Ç–∏–≤–∏—Ä—É–µ—Ç—Å—è –≤—Ä–µ–º–µ–Ω–Ω–∞—è –±–ª–æ–∫–∏—Ä–æ–≤–∫–∞.
4. üö´ –ü—Ä–∏ –æ—Ç—Å—É—Ç—Å—Ç–≤–∏–∏ —Å–∏–≥–Ω–∞–ª–∞ ‚Äî –∑–∞—è–≤–∫–∞ –Ω–µ —Å–æ–∑–¥–∞—ë—Ç—Å—è.

---

## ‚õîÔ∏è –°–∏—Å—Ç–µ–º–∞ –±–ª–æ–∫–∏—Ä–æ–≤–æ–∫

–°–µ—Ä–≤–∏—Å –∏—Å–ø–æ–ª—å–∑—É–µ—Ç –¥–≤—É—Ö—É—Ä–æ–≤–Ω–µ–≤—É—é –±–ª–æ–∫–∏—Ä–æ–≤–∫—É, —á—Ç–æ–±—ã –∏–∑–±–µ–∂–∞—Ç—å –ø–æ–≤—Ç–æ—Ä–Ω–æ–≥–æ —Å–æ–∑–¥–∞–Ω–∏—è –∑–∞—è–≤–æ–∫ –ø—Ä–∏ –≤—ã—Å–æ–∫–æ—á–∞—Å—Ç–æ—Ç–Ω—ã—Ö –æ–±–Ω–æ–≤–ª–µ–Ω–∏—è—Ö.

### üîê 1. –í—Ä–µ–º–µ–Ω–Ω–∞—è –±–ª–æ–∫–∏—Ä–æ–≤–∫–∞ (–ø–æ —Å–∏–º–≤–æ–ª—É)

- **–ö–ª—é—á:** `BTCUSDT.BAN_TIME`
- **–¢–∏–ø:** —á–∏—Å–ª–æ
- **–ó–Ω–∞—á–µ–Ω–∏–µ:** `60` (—Å–µ–∫—É–Ω–¥)
- **–û–ø–∏—Å–∞–Ω–∏–µ:**  
  –ü–æ—Å–ª–µ —É—Å–ø–µ—à–Ω–æ–π –∏–ª–∏ –∫–æ–Ω—Ñ–ª–∏–∫—Ç–Ω–æ–π –æ—Ç–ø—Ä–∞–≤–∫–∏ –∑–∞—è–≤–∫–∏ –≤–∫–ª—é—á–∞–µ—Ç—Å—è –±–ª–æ–∫–∏—Ä–æ–≤–∫–∞ –Ω–∞ N —Å–µ–∫—É–Ω–¥.  
  –ü—Ä–æ–≤–µ—Ä–∫–∞ –∏—Å—Ç–µ—á–µ–Ω–∏—è –±–ª–æ–∫–∏—Ä–æ–≤–∫–∏ –≤—ã–ø–æ–ª–Ω—è–µ—Ç—Å—è –ø—Ä–∏ –∫–∞–∂–¥–æ–º –≤—Ö–æ–¥—è—â–µ–º –æ–±–Ω–æ–≤–ª–µ–Ω–∏–∏.

- ‚úÖ **–û–ø—Ç–∏–º–∏–∑–∞—Ü–∏—è:** —Ä–µ–∑—É–ª—å—Ç–∞—Ç –ø—Ä–æ–≤–µ—Ä–∫–∏ –∫–µ—à–∏—Ä—É–µ—Ç—Å—è –Ω–∞ **5 —Å–µ–∫—É–Ω–¥**.

---

### üö´ 2. –§–ª–∞–≥–∏ –∑–∞–ø—Ä–µ—Ç–∞ —Å–æ–∑–¥–∞–Ω–∏—è –∑–∞—è–≤–æ–∫

–ò—Å–ø–æ–ª—å–∑—É—é—Ç—Å—è –¥–ª—è –æ—Ç–∫–ª—é—á–µ–Ω–∏—è —Å–æ–∑–¥–∞–Ω–∏—è –∑–∞—è–≤–æ–∫ –Ω–∞ —É—Ä–æ–≤–Ω–µ **–≥–ª–æ–±–∞–ª—å–Ω–æ–≥–æ —Å—Ç–∞—Ç—É—Å–∞** –∏ **–æ—Ç–¥–µ–ª—å–Ω—ã—Ö —Å–∏–º–≤–æ–ª–æ–≤**.

- **–ö–ª—é—á–∏:**
  - `GLOBAL.BAN` ‚Äî –≥–ª–æ–±–∞–ª—å–Ω—ã–π —Ñ–ª–∞–≥ (–¥–ª—è –≤—Å–µ—Ö —Å–∏–º–≤–æ–ª–æ–≤)
  - `BTCUSDT.BAN` ‚Äî –∏–Ω–¥–∏–≤–∏–¥—É–∞–ª—å–Ω—ã–π —Ñ–ª–∞–≥ (–¥–ª—è –∫–æ–Ω–∫—Ä–µ—Ç–Ω–æ–≥–æ —Å–∏–º–≤–æ–ª–∞)

- **–¢–∏–ø:** —Å—Ç—Ä–æ–∫–∞
- **–ó–Ω–∞—á–µ–Ω–∏—è:** `'True'` / `'False'` (–±—É–ª–µ–≤–æ –≤ –≤–∏–¥–µ —Å—Ç—Ä–æ–∫–∏)

- **–ü–æ–≤–µ–¥–µ–Ω–∏–µ:**
  - –ï—Å–ª–∏ **–ª—é–±–æ–π –∏–∑ —Ñ–ª–∞–≥–æ–≤ –æ—Ç—Å—É—Ç—Å—Ç–≤—É–µ—Ç –∏–ª–∏ –∏–º–µ–µ—Ç –∑–Ω–∞—á–µ–Ω–∏–µ `'False'`** ‚Üí –∑–∞—è–≤–∫–∞ **–Ω–µ —Å–æ–∑–¥–∞–µ—Ç—Å—è**.
  - –ü—Ä–æ–≤–µ—Ä–∫–∞ –≤—ã–ø–æ–ª–Ω—è–µ—Ç—Å—è –ø—Ä–∏ –∫–∞–∂–¥–æ–º –≤—Ö–æ–¥—è—â–µ–º –æ–±–Ω–æ–≤–ª–µ–Ω–∏–∏ —Å–∏–≥–Ω–∞–ª–∞.

---

## üìà –û–±—Ä–∞–±–∞—Ç—ã–≤–∞–µ–º—ã–µ –¥–∞–Ω–Ω—ã–µ

–°–∏–≥–Ω–∞–ª—ã –ø–æ—Å—Ç—É–ø–∞—é—Ç –≤ –¥–≤—É—Ö –≤–∏–¥–∞—Ö:

- `VALUE` ‚Äî —Ç–µ–∫—É—â–∏–µ –∑–Ω–∞—á–µ–Ω–∏—è –∏–Ω–¥–∏–∫–∞—Ç–æ—Ä–æ–≤
- `PREDICT` ‚Äî –ø—Ä–µ–¥—Å–∫–∞–∑–∞–Ω–Ω—ã–µ –∑–Ω–∞—á–µ–Ω–∏—è, –ø—Ä–∏ –∫–æ—Ç–æ—Ä—ã—Ö –∏–Ω–¥–∏–∫–∞—Ç–æ—Ä—ã –≤–æ–π–¥—É—Ç –≤ –¥–æ–ø—É—Å—Ç–∏–º—ã–π –¥–∏–∞–ø–∞–∑–æ–Ω

### üì° –ü–æ–¥–¥–µ—Ä–∂–∏–≤–∞–µ–º—ã–µ –∫–∞–Ω–∞–ª—ã

| –¢–∏–ø —Å–∏–≥–Ω–∞–ª–∞       | VALUE              | PREDICT              |
|-------------------|--------------------|----------------------|
| RSI               | `VALUE.RSI`        | `PREDICT.RSI`        |
| Stochastic RSI    | `VALUE.STOCH_RSI`  | `PREDICT.STOCH_RSI`  |

---

## üßÆ –°—Ç—Ä—É–∫—Ç—É—Ä–∞ –≤—Ö–æ–¥—è—â–∏—Ö –¥–∞–Ω–Ω—ã—Ö

### üìò RSI

**–û–ø–∏—Å–∞–Ω–∏–µ:** RSI ‚Äî –∏–Ω–¥–µ–∫—Å –æ—Ç–Ω–æ—Å–∏—Ç–µ–ª—å–Ω–æ–π —Å–∏–ª—ã. –ü–æ–º–æ–≥–∞–µ—Ç –æ–ø—Ä–µ–¥–µ–ª–∏—Ç—å –ø–µ—Ä–µ–∫—É–ø–ª–µ–Ω–Ω–æ—Å—Ç—å –∏–ª–∏ –ø–µ—Ä–µ–ø—Ä–æ–¥–∞–Ω–Ω–æ—Å—Ç—å —Ä—ã–Ω–∫–∞.

#### `VALUE.RSI`

```json
{
  "kline_ms": 123456,
  "symbol": "BTCUSDT",
  "type": "VALUE.RSI",
  "values": [
    {
      "kline_ms": 123456,
      "interval": 1,
      "value": 20.19,
      "side": "buy",
      "rate": 109659.4
    }
  ]
}
```

#### `PREDICT.RSI`
```
{
  "kline_ms": 123456,
  "symbol": "BTCUSDT",
  "type": "PREDICT.RSI",
  "values": [
    {
      "kline_ms": 123456,
      "interval": 1,
      "value": 20.19,
      "side": "buy",
      "percent": 0.2,
      "target_rate": 109659.4
    }
  ]
}
```


### üìô Stochastic RSI

**–û–ø–∏—Å–∞–Ω–∏–µ:** –°—Ç–æ—Ö–∞—Å—Ç–∏—á–µ—Å–∫–∏–π RSI (Stoch RSI) ‚Äî –∏–Ω–¥–∏–∫–∞—Ç–æ—Ä, –æ—Å–Ω–æ–≤–∞–Ω–Ω—ã–π –Ω–∞ RSI –∏ —Å—Ç–æ—Ö–∞—Å—Ç–∏—á–µ—Å–∫–æ–π —Ñ–æ—Ä–º—É–ª–µ. –û–±–µ—Å–ø–µ—á–∏–≤–∞–µ—Ç –±–æ–ª–µ–µ —á—É–≤—Å—Ç–≤–∏—Ç–µ–ª—å–Ω—É—é —Ä–µ–∞–∫—Ü–∏—é –Ω–∞ –∏–∑–º–µ–Ω–µ–Ω–∏–µ —Ü–µ–Ω—ã.

#### `VALUE.STOCH_RSI`

```
{
  "kline_ms": 123456,
  "symbol": "BTCUSDT",
  "type": "VALUE.STOCH_RSI",
  "values": [
    {
      "kline_ms": 123456,
      "interval": 1,
      "value_k": 20.19,
      "value_d": 20.19,
      "side": "buy",
      "rate": 109659.4
    }
  ]
}
```

#### `PREDICT.STOCH_RSI`

```
{
  "kline_ms": 123456,
  "symbol": "BTCUSDT",
  "type": "PREDICT.STOCH_RSI",
  "values": [
    {
      "kline_ms": 123456,
      "interval": 1,
      "value_k": 20.19,
      "value_d": 20.19,
      "side": "buy",
      "percent": 0.2,
      "target_rate": 109659.4
    }
  ]
}
```
